<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-prompting-techniques/automatic-prompt-engineer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Automatic Prompt Engineer (APE) | entAIngine documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.entaingine.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.entaingine.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.entaingine.com/prompting-techniques/automatic-prompt-engineer"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Automatic Prompt Engineer (APE) | entAIngine documentation"><meta data-rh="true" name="description" content="Use models to generate and refine prompts automatically for optimal performance."><meta data-rh="true" property="og:description" content="Use models to generate and refine prompts automatically for optimal performance."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.entaingine.com/prompting-techniques/automatic-prompt-engineer"><link data-rh="true" rel="alternate" href="https://docs.entaingine.com/prompting-techniques/automatic-prompt-engineer" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.entaingine.com/prompting-techniques/automatic-prompt-engineer" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.df2753d3.css">
<script src="/assets/js/runtime~main.36924db3.js" defer="defer"></script>
<script src="/assets/js/main.ac51acad.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="entAIngine Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="entAIngine Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">entAIngine wiki</b></a></div><div class="navbar__items navbar__items--right"><a href="https://jadenx.atlassian.net/servicedesk/customer/portals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Help Desk<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://entaingine.statuspage.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Health Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/introduction">Introduction</a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/user-guides">User Guides</a><button aria-label="Expand sidebar category &#x27;User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/developer-guide">Developer Guide</a><button aria-label="Expand sidebar category &#x27;Developer Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/prompting-techniques">Prompting Techniques</a><button aria-label="Collapse sidebar category &#x27;Prompting Techniques&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/zero-shot">Zero-Shot Prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/few-shot">Few-Shot Prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/chain-of-thought">Chain-of-Thought Prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/self-consistency">Self-Consistency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/generated-knowledge">Generated Knowledge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/prompt-chaining">Prompt Chaining</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/tree-of-thoughts">Tree of Thoughts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/rag">Retrieval-Augmented Generation (RAG)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/art">ART (Automatic Reasoning and Tool-use)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/prompting-techniques/automatic-prompt-engineer">Automatic Prompt Engineer (APE)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/active-prompt">Active Prompt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/directional-stimulus">Directional Stimulus Prompting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/pal">PAL (Program-Aided Language)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/react">ReAct (Reasoning and Acting)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/multimodal-cot">Multimodal Chain-of-Thought</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/prompting-techniques/graph-prompting">Graph Prompting</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/prompting-techniques"><span itemprop="name">Prompting Techniques</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Automatic Prompt Engineer (APE)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Automatic Prompt Engineer (APE)</h1></header><p><img decoding="async" loading="lazy" alt="APE Framework Overview" src="/assets/images/APE-99afd58c2af49af55ace57959e685ae6.png" width="783" height="527" class="img_ev3q"></p>
<p>Automatic Prompt Engineer (APE) is a technique that leverages language models themselves to automatically generate, test, and refine prompts for specific tasks. Instead of manually crafting prompts through trial and error, APE uses systematic approaches to discover high-performing prompt formulations, often surpassing human-designed prompts.</p>
<p>Introduced by <a href="https://arxiv.org/abs/2211.01910" target="_blank" rel="noopener noreferrer">Zhou et al. (2022)</a>, APE treats prompt generation as a natural language synthesis problem, where the model is asked to generate instructions that would lead to desired outputs given specific inputs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-ape-works">How APE Works<a href="#how-ape-works" class="hash-link" aria-label="Direct link to How APE Works" title="Direct link to How APE Works">​</a></h2>
<p>The APE process typically involves several key steps:</p>
<ol>
<li><strong>Prompt Generation</strong>: The model generates multiple candidate prompts based on input-output examples</li>
<li><strong>Evaluation</strong>: Each candidate prompt is tested on a validation set</li>
<li><strong>Selection</strong>: The best-performing prompts are identified based on accuracy or other metrics</li>
<li><strong>Iteration</strong>: The process can be repeated to further refine prompts</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">​</a></h2>
<p>APE is particularly valuable when:</p>
<ul>
<li>Manual prompt engineering is time-consuming or requires domain expertise</li>
<li>You need to optimize prompts for specific metrics (accuracy, consistency, style)</li>
<li>Working with new tasks where effective prompt patterns aren&#x27;t well-established</li>
<li>Scaling prompt optimization across multiple similar tasks</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-patterns">Implementation Patterns<a href="#implementation-patterns" class="hash-link" aria-label="Direct link to Implementation Patterns" title="Direct link to Implementation Patterns">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-ape-pattern">Basic APE Pattern<a href="#basic-ape-pattern" class="hash-link" aria-label="Direct link to Basic APE Pattern" title="Direct link to Basic APE Pattern">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Task: Generate a prompt that will help classify customer reviews as positive or negative.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Given these examples:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Input: &quot;This product exceeded my expectations!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output: Positive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Input: &quot;Waste of money, poor quality&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output: Negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generate 5 different prompts that would work well for this classification task.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="iterative-refinement">Iterative Refinement<a href="#iterative-refinement" class="hash-link" aria-label="Direct link to Iterative Refinement" title="Direct link to Iterative Refinement">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Here are 3 prompts for sentiment analysis:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. &quot;Classify this review as positive or negative:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. &quot;Determine the sentiment (positive/negative) of this customer feedback:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. &quot;Is this review expressing a positive or negative opinion?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Based on testing, prompt #2 performed best. Generate 3 improved variations of prompt #2.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="meta-prompt-for-ape">Meta-Prompt for APE<a href="#meta-prompt-for-ape" class="hash-link" aria-label="Direct link to Meta-Prompt for APE" title="Direct link to Meta-Prompt for APE">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">You are an expert prompt engineer. Your task is to create effective prompts for [SPECIFIC TASK].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requirements:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- The prompt should be clear and unambiguous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- It should work well across diverse inputs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Include any necessary context or formatting instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generate 5 candidate prompts, then explain why each might be effective.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-techniques">Advanced Techniques<a href="#advanced-techniques" class="hash-link" aria-label="Direct link to Advanced Techniques" title="Direct link to Advanced Techniques">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chain-of-thought-ape">Chain-of-Thought APE<a href="#chain-of-thought-ape" class="hash-link" aria-label="Direct link to Chain-of-Thought APE" title="Direct link to Chain-of-Thought APE">​</a></h3>
<p>APE can be combined with chain-of-thought prompting to generate prompts that encourage step-by-step reasoning:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Generate a prompt that asks the model to solve math word problems by thinking step by step. The prompt should encourage the model to:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Identify what information is given</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Determine what needs to be found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Set up the calculation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Solve and verify the answer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-objective-ape">Multi-Objective APE<a href="#multi-objective-ape" class="hash-link" aria-label="Direct link to Multi-Objective APE" title="Direct link to Multi-Objective APE">​</a></h3>
<p>When optimizing for multiple criteria simultaneously:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Create prompts for summarizing research papers that optimize for:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Accuracy (capturing key findings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Brevity (under 100 words)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Accessibility (understandable to non-experts)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generate 3 prompts that balance these objectives.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="evaluation-and-testing">Evaluation and Testing<a href="#evaluation-and-testing" class="hash-link" aria-label="Direct link to Evaluation and Testing" title="Direct link to Evaluation and Testing">​</a></h2>
<p>Effective APE requires systematic evaluation:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quantitative-metrics">Quantitative Metrics<a href="#quantitative-metrics" class="hash-link" aria-label="Direct link to Quantitative Metrics" title="Direct link to Quantitative Metrics">​</a></h3>
<ul>
<li><strong>Accuracy</strong>: Percentage of correct outputs on test cases</li>
<li><strong>Consistency</strong>: Variance in outputs across multiple runs</li>
<li><strong>Efficiency</strong>: Token usage and response time</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="qualitative-assessment">Qualitative Assessment<a href="#qualitative-assessment" class="hash-link" aria-label="Direct link to Qualitative Assessment" title="Direct link to Qualitative Assessment">​</a></h3>
<ul>
<li><strong>Clarity</strong>: How well the prompt communicates the task</li>
<li><strong>Robustness</strong>: Performance across edge cases and diverse inputs</li>
<li><strong>Generalization</strong>: Effectiveness on unseen examples</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-example">Implementation Example<a href="#implementation-example" class="hash-link" aria-label="Direct link to Implementation Example" title="Direct link to Implementation Example">​</a></h2>
<p>Here&#x27;s a complete APE workflow for creating a code documentation prompt:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Step 1: Define the task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Task: Generate clear, concise documentation for Python functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Step 2: Provide examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Input: def calculate_area(radius): return 3.14159 * radius ** 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output: Calculates the area of a circle given its radius. Returns the area as a float.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Step 3: Generate candidate prompts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. &quot;Write documentation for this Python function:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. &quot;Create a brief description of what this function does:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. &quot;Generate a docstring explaining this function&#x27;s purpose and return value:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. &quot;Describe this function in one clear sentence:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. &quot;Document this function including its purpose and output:&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Step 4: Test and evaluate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Test each prompt on validation set]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Step 5: Select and refine best performer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Best: Prompt #3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Refined: &quot;Generate a concise docstring for this Python function, explaining its purpose, parameters, and return value:&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-prompt-generation">For Prompt Generation<a href="#for-prompt-generation" class="hash-link" aria-label="Direct link to For Prompt Generation" title="Direct link to For Prompt Generation">​</a></h3>
<ul>
<li>Provide diverse, high-quality examples</li>
<li>Be specific about desired output format and style</li>
<li>Include edge cases in your evaluation set</li>
<li>Consider the target model&#x27;s capabilities and limitations</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-evaluation">For Evaluation<a href="#for-evaluation" class="hash-link" aria-label="Direct link to For Evaluation" title="Direct link to For Evaluation">​</a></h3>
<ul>
<li>Use held-out test sets to avoid overfitting</li>
<li>Evaluate on multiple metrics relevant to your use case</li>
<li>Test prompts with different model temperatures and sampling methods</li>
<li>Consider human evaluation for subjective tasks</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-iteration">For Iteration<a href="#for-iteration" class="hash-link" aria-label="Direct link to For Iteration" title="Direct link to For Iteration">​</a></h3>
<ul>
<li>Start with simple prompts and gradually increase complexity</li>
<li>Document what works and what doesn&#x27;t for future reference</li>
<li>Consider prompt ensembles for critical applications</li>
<li>Regular re-evaluation as models and tasks evolve</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-and-considerations">Limitations and Considerations<a href="#limitations-and-considerations" class="hash-link" aria-label="Direct link to Limitations and Considerations" title="Direct link to Limitations and Considerations">​</a></h2>
<p><strong>Computational Cost</strong>: APE requires multiple model calls for generation and evaluation, which can be expensive.</p>
<p><strong>Evaluation Challenges</strong>: Defining good evaluation metrics can be difficult for subjective or creative tasks.</p>
<p><strong>Overfitting Risk</strong>: Prompts optimized on small datasets may not generalize well.</p>
<p><strong>Context Dependence</strong>: Optimal prompts may vary significantly across different models or domains.</p>
<p><strong>Human Oversight</strong>: Automated prompt generation should be combined with human review, especially for sensitive applications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-with-other-techniques">Integration with Other Techniques<a href="#integration-with-other-techniques" class="hash-link" aria-label="Direct link to Integration with Other Techniques" title="Direct link to Integration with Other Techniques">​</a></h2>
<p>APE can be combined with other prompting techniques:</p>
<ul>
<li><strong>Few-shot learning</strong>: Generate prompts that include optimal examples</li>
<li><strong>Chain-of-thought</strong>: Create prompts that encourage reasoning</li>
<li><strong>Self-consistency</strong>: Develop prompts optimized for multiple sampling</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li>Zhou, Y., et al. (2022). Large Language Models Are Human-Level Prompt Engineers. arXiv preprint arXiv:2211.01910</li>
<li>Reynolds, L., &amp; McDonell, K. (2021). Prompt Programming for Large Language Models: Beyond the Few-Shot Paradigm. Extended Abstracts of CHI 2021</li>
<li>Wei, J., et al. (2022). Chain-of-Thought Prompting Elicits Reasoning in Large Language Models. NeurIPS 2022</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/entAIngine/entaingine-docs/tree/main/docs/prompting-techniques/automatic-prompt-engineer.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/prompting-techniques/art"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ART (Automatic Reasoning and Tool-use)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/prompting-techniques/active-prompt"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Active Prompt</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-ape-works" class="table-of-contents__link toc-highlight">How APE Works</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#implementation-patterns" class="table-of-contents__link toc-highlight">Implementation Patterns</a><ul><li><a href="#basic-ape-pattern" class="table-of-contents__link toc-highlight">Basic APE Pattern</a></li><li><a href="#iterative-refinement" class="table-of-contents__link toc-highlight">Iterative Refinement</a></li><li><a href="#meta-prompt-for-ape" class="table-of-contents__link toc-highlight">Meta-Prompt for APE</a></li></ul></li><li><a href="#advanced-techniques" class="table-of-contents__link toc-highlight">Advanced Techniques</a><ul><li><a href="#chain-of-thought-ape" class="table-of-contents__link toc-highlight">Chain-of-Thought APE</a></li><li><a href="#multi-objective-ape" class="table-of-contents__link toc-highlight">Multi-Objective APE</a></li></ul></li><li><a href="#evaluation-and-testing" class="table-of-contents__link toc-highlight">Evaluation and Testing</a><ul><li><a href="#quantitative-metrics" class="table-of-contents__link toc-highlight">Quantitative Metrics</a></li><li><a href="#qualitative-assessment" class="table-of-contents__link toc-highlight">Qualitative Assessment</a></li></ul></li><li><a href="#implementation-example" class="table-of-contents__link toc-highlight">Implementation Example</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#for-prompt-generation" class="table-of-contents__link toc-highlight">For Prompt Generation</a></li><li><a href="#for-evaluation" class="table-of-contents__link toc-highlight">For Evaluation</a></li><li><a href="#for-iteration" class="table-of-contents__link toc-highlight">For Iteration</a></li></ul></li><li><a href="#limitations-and-considerations" class="table-of-contents__link toc-highlight">Limitations and Considerations</a></li><li><a href="#integration-with-other-techniques" class="table-of-contents__link toc-highlight">Integration with Other Techniques</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@entAIngine-xs2db" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/HSApqmUG" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/entaingine/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/entaingine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 entAIngine</div></div></div></footer></div>
</body>
</html>